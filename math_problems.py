class Solution:
    def __init__(self) -> None:
        self.devices = {}
        self.floors = 0

    def assignKeys(self, floor_keys, current_floor):
        assigned = False
        step = 1
        while not assigned and step < self.floors:
            for key in list(self.devices.keys()):
                if f"{current_floor - step}" == key.split(',')[0]:
                    self.devices[key] += floor_keys
                    assigned = True
            step += 1

        return assigned

    def numberOfBeams(self, bank: list[str]) -> int:
        # remove empty rows
        for idx in range(len(bank)):
            set_bank = set(bank[idx])
            if '1' not in set_bank: 
                bank.pop(idx)

        bank = [sorted(bank) for bank in bank]
        print(bank)
        beam_count = 0
        for idx, row in enumerate(bank):
            for idx_1, device in enumerate(row):
                if device == '1':
                    self.devices[f"{idx},{idx_1}"] = []
        self.floors = len(bank)
        for idx in range(self.floors):
            if idx != 0:
                floor_keys = [key for key in list(
                    self.devices.keys()) if f"{idx}" == key.split(',')[0]]
                if len(floor_keys) > 0:
                    self.assignKeys(floor_keys, idx)
        print(self.devices)
        for dev in self.devices.keys():
            beam_count += len(self.devices[dev])
        return beam_count


sol = Solution()
bank = ["011001", "000000", "010100", "001000"]
bank1 = ["000", "111", "000"]
bank2 = ["0000000000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001", "1000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000000000", "0000000000000100100000000000010000000000000000010000000000001000000010000010000000000001000000100000000100000000000000110000", "1000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100000000000", "0001000000000000000100000000000000000000000100010000100000010000001010000000000000001000000000000000000000000000000000100000", "1010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010100000", "1000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000000000000", "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000000000000", "0010100010011001111001000001000110100100110000110001101100101011010010011000010100110000000111010100001000000001011010100011", "0000000000000010000010000000000000000000000000000100000000000001000000000000001000000100000000001000010000101000010010000000", "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000000", "1000100000000100001000100000000000000001000000000000001000000001000000000000000000000000000000100000001000001010100000000000", "1000000000100000000010000000001000000000100000000010000000001000000000100000000010000000001000000000100000000010000000000000", "1000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000000000", "0000000000000000000100000000000010000000000001000000000000100000000000010000000000001000000000000100000000000010000000000001", "0000000000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111111111111111111111111111", "1100110111011101011100101110101000101010001110111000100001000011101110001100011110001100111010000000010011111100101110111110", "1000000000000000000000001000000000000000000000001000000000000000000000001000000000000000000000001000000000000000000000000000", "0000000000000000000010000000000000000000000001000000001000000010000100100000000000000000000000000010000000000000000100000100", "0110110011111101010101111111110111011111111111010010100111101001111011010001010110110001110100101100111001111111111111010110", "0000000000000100000000000000000000000000000100000000000100000000010000000000001000000010000000000000000010000000100000000100", "1001001001001001001001001001001001001001001001001001001001001001001001001001001001001001001001000000000000000000000000000000", "0000000000000000000000000000000000000000000000000000000011111111111111111111111111111111111111111111111111111111111111111111", "1000000000010000000000100000000001000000000010000000000100000000001000000000010000000000100000000001000000000010000000000000", "1000000000000100000000000010000000000001000000000000100000000000010000000000001000000000000100000000000010000000000000000000", "0000000000001000000000000001000100001000100000000000000000010000010000010000000000000001000010000000000000000000000000000000", "1011111001111000010011100010100101111111000110011100111111111111011011110110100111101101110010010001111111000111101100001111", "1101111111111011111111011111101011111111110111111111110111111111111111111111111110111111111111111111111111010110111101111111", "1001111111111110111111010111111111101000110111111111111100100110010110110111011000101101110111011101110011101111011101111011", "0000000000000000000000000000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111111111", "0000000000000001000000010000010000101000000000000000000000000100000000011000000000000000000000000000000100110000010000000001", "0100100101001010111000001010000011010000010100010100001101110000000000100110010100101001110010111001000100001101010101101000", "0000010000000000000000000000000000000000010000000000001011010000001000010000000010000000100100000010000000000100000000000000", "0000000000000000000000000000000000000000000000001111111111111111111111111111111111111111111111111111111111111111111111111111", "0001101000101011010100100100110001010110000010110000101001000011010100111000101100101011010001011011000100101000110001011010", "1111111111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000000000000000000000", "0000000000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001", "1000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000000000", "0000000000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001", "0000000000000000101000000000000000010000100000000000000000000000000000101000000000000000000001000001000000000001000000000000", "1000000000100000000010000000001000000000100000000010000000001000000000100000000010000000001000000000100000000010000000000000", "1000000000100000000010000000001000000000100000000010000000001000000000100000000010000000001000000000100000000010000000000000", "0000000000000000000000000000001000010000000000000000000000001000000000000100000110000000000100000000000000000100100000000001", "1100011000011000100000001000001100100100000110110000001010000000100001000000001001100001000100101010010000110000000010001001", "1000000000000000010000000000000000100000000000000001000000000000000010000000000000000100000000000000001000000000000000000000", "0000000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001", "0000000000000000010000000000000000000000000001000000000000100000000000000000010000000010000001000000000000000000010000000100", "0000000000000001010000000001100010000010000000001000000000000000000000000000000000000000000000000000000000000000100000000001", "1111111111111111111111111111111111111111111111111111111111111111111111111100000000000000000000000000000000000000000000000000", "1000000000000001000000000000001000000000000001000000000000001000000000000001000000000000001000000000000001000000000000000000", "0000000000000000000001111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111", "1000000000000100000000000010000000000001000000000000100000000000010000000000001000000000000100000000000010000000000000000000", "0101111110010001100110110110110000000011111111100100011010100100101101101011000001111010111001000011100101101100110000100110", "0010001010000000001000000000100000100000000000001100000001001100000000100000001000100000000000000100001000011000000000000000", "0000000000000000000000000000000000010000100000000000010000000000000000010000000000000000100000100000000000000101001000000000", "1000000000000100000000000010000000000001000000000000100000000000010000000000001000000000000100000000000010000000000000000000", "0000000010100000000000000000000000000000000100000000000000000001000000001010000000001010100000000000000000010000000000000000", "0000000010010010000000000000000000000000000010000001000000000010000000000000000000001000000001000000010000000000000000000000", "0000000000000000000000000001000000000000000000000001000000000000000000000001000000000000000000000001000000000000000000000001", "0000000000000000000000010000000000000000000000000000001000000000001000000000000000101010000000001000000000000010000001001000", "1001001100001001000010001000011010000100011100011001010100101100000111000111000101110010011001010011000000100000010010001000", "0000000000000000011000000000000000000000000010000100000000000001000100000000100100000000000000000000000000000010000000000011", "0000000000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001", "0000000000100001000000000000001000001001000000000000110000000000001100010010101000000000001000000010000000000000000000000000", "0000000000100000000001000000000110000000000110000000000000000000000000000000000000000000000000110110000000000000000000000000", "0000000000000100000000010000000001000000000100000000010000000001000000000100000000010000000001000000000100000000010000000001", "1010111011111011110110000011100111010000011111111111010101111111010011011111001100111100000111000111111101111110111111101111", "1000000000000100000000000010000000000001000000000000100000000000010000000000001000000000000100000000000010000000000000000000", "0000000000000000000100000000000010000000000001000000000000100000000000010000000000001000000000000100000000000010000000000001", "0000000000000011100010000000010000000000000000000000000001000000000000000000100000000000010000100000000000000000010100000000", "1011000011110111110101110001110010000001011001010111111010010001011111100101110111101001010010111010011111011011101101010000", "0000000000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001", "1000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000000000000", "0000000000000100000000001000000000010000000000100000000001000000000010000000000100000000001000000000010000000000100000000001",
         "0000000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001", "0000000000000000000000000010000000000001000000000000000000001000000000010000000000010000010000000000000100000010000110000000", "0000000000000000000000000000000000000000000000000000000001111111111111111111111111111111111111111111111111111111111111111111", "0000100000001000000000000000000000000100000101010000000000000000000000000000000000000100000000000000000010000000000000001100", "1000000000000000010000000000000000100000000000000001000000000000000010000000000000000100000000000000001000000000000000000000", "1111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000000000000000000000000000", "1110011011101110110001110011110001111110110101010110110110110111100110011001101111100001100101000110101000111001111110001110", "0110111111101111111111111101011111111011111000111111011110011111010111111110111111011110111110111110101111101111101111101101", "0000010000000000010000000000000000000010000000110000000100000000001100000010000000000000100000000000000000000000000000000000", "0000000000000000000100000001010000000100000000000100001000000000010000000000000000100000000010000000000000000000000000001000", "0000100000000000000000000000000010000000000000000000000000000000001000001000100000000000101000000000000000000000010000010000", "0001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001", "0000000000000000010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101", "1000000000000100000000000010000000000001000000000000100000000000010000000000001000000000000100000000000010000000000000000000", "0000000000000000000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111", "0001000000000010000000001000000000000000000000000001000000000100000100000000000000000000010000000000000001100000100000000001", "0000000010100100000001001000011001000000000101101000000000100000100000001000001000000101000010001000000110000001011101000011", "0111111001010101111110101110000111100111110000011101000010110011011110011010100100110011100101111101110001110010011000111111", "0000000010000100000000000010000000000001000000000010000100000000000000100000010000000000000000100000000000100000000110000000", "0010010000000110100000000101000100001010000000010100010001100010010000001101000000001010001001000100110101010010010000010000", "0000100100000000000000000000000000000000010000000000000000000000100000000001000000100000000000000000000000000110100000000000", "0000000000000001001001001001001001001001001001001001001001001001001001001001001001001001001001001001001001001001001001001001", "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111100000000000000000000000", "0100000000000100000000010000000000000100100000110000010001000000000000001000000000000000000000000000000000000001000000000000", "1100100011100110101010111110111101011110111011100010010110111011101111110011011110101011111110001100000101011000010001101001", "0000000000000100000000010000000001000000000100000000010000000001000000000100000000010000000001000000000100000000010000000001", "1111111111111111111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000000000000000", "0000000000000100000000000100110000000000000000010000000001000000010000100000001000000010000000100000000100001000000000000000", "1111110111111111111111111111111110111111110111111111110111111111111101111110101111111111011111111111111111111111111111111101", "0010000000000000010101000000000000000000010000000000001010000000010000000000000000000000000100000000000000000000000010000000", "0001000000000000000000000000000000100100001000000000010000000000101000001000000000100010000000000000000000000000100000000100", "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000000", "0000000000000100000000010000000001000000000100000000010000000001000000000100000000010000000001000000000100000000010000000001", "0010010001001100000000110000010001000000000000000000000010000000111100000000110000000110010100010000100000011000001010000000", "1000000000000100000000000010000000000001000000000000100000000000010000000000001000000000000100000000000010000000000000000000", "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000", "0000000000010000000000000010000010000000000001000000000010000000001000000000100000000000000000000100011001000000000010000000", "0000000000000001001001000000000001000000000000000000000000000000010000000000000000001000000000000000001000001000000000000010", "0000000010000000100000000000000000000000000000000100000000000000000100000000000000000000010001000010000000000100000000000100", "0111111101110001111101110110010100111101011000101011101000111111011101000111111110110111111100000011100001111101111110001101", "1000000000010000000000100000000001000000000010000000000100000000001000000000010000000000100000000001000000000010000000000000", "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000000000000000000", "0000110000000000001000001000000000000000000000000000000100011000000000000000000000100000000000010000100000000000000000000000", "0000000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001", "0000000001000100100000000000001100000000000000000000000100000100000000000000000000000001000000100000100000100000000100000100", "0000100000000010000100000000000000000000000000000000000100010000000000000001000000000100100000000000000000001010000000010000", "0001000000000010010000000000000100000000100000000010010000000000000000000000000000000000000001000000000000000000000000010000", "0000000000001001000010000000000000000000000000000010000000000110000000001001000000000000000010000000000000000010100010000000", "1000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000000000", "0000000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001", "0000000001100000000000010000000000000000000000000000001001001000101000000000000000000000010000000010000000010000010000000000", "1000001000001000001000001000001000001000001000001000001000001000001000001000001000001000001000001000001000000000000000000000", "1011110111011101001001101101000110110110101110100110000011001101111110110010100011001110100111100111101001100110110111101100", "0000000000001000000000000000000001000010000000000000010001000000000001000000000000010010000000100000000001000000000000000000", "1000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000001000000000000000", "0000000001000000000000000000000100000001000000010000001000000000000000000000100100000000000000100010000000000101000000000010", "1000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000000000000000", "0000000000000000000000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111", "1101110111111111010111010101011111011011101111111011110111111111111111111111111111110111101111111001101111101110111111011111", "0001000000001100000000010000000010000000000000000010000000000001000000100000000000000000000000000000000010000000010000000000", "1000000000000100000000000010000000000001000000000000100000000000010000000000001000000000000100000000000010000000000000000000", "1000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000001000000000000000", "1000000000000000000000000000000000100000000100000000000100100000000000000001000000001000000100000000000100000000000000000001", "0010000100000000000000000001000000000000000000000000000011000001000000100100000001100000000000001100001000000000000000000001", "1000000000000000000010000000000000000000000000000000000000000000000000000000010010000001000000000000000000000011100001000001", "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000000", "0000000000000000000000000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111111111111", "1010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000", "1000111011110110011101111101111011101101111011101111111111111101111000111100111010111011110100011001111101100011100101110110", "0010000001010010001100000101110100000010001100011111011001101010010100101001010111101001100000101100010010000000011110010011", "1111111111111111111111111111111111111111111111111111111111111111111111111111111111100000000000000000000000000000000000000000", "1000000000100000000010000000001000000000100000000010000000001000000000100000000010000000001000000000100000000010000000000000", "0000000000000000000100000000000010000000000001000000000000100000000000010000000000001000000000000100000000000010000000000001", "1000000000100000000010000000001000000000100000000010000000001000000000100000000010000000001000000000100000000010000000000000"]
print(sol.numberOfBeams(bank))
# print(sol.numberOfBeams(bank1))
# print(sol.numberOfBeams(bank2))
